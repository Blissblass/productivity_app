{"version":3,"sources":["components/Contexts/UserContext.jsx","components/Home/Home.jsx","components/Navbar/NavbarButtonUser.jsx","components/Navbar/NavbarButton.jsx","components/Navbar/Navibar.jsx","components/Contexts/ErrorContext.jsx","components/SignUp/SignUp.jsx","components/Login/Login.jsx","components/Routes/ProtectedRoute.jsx","components/Routes/AuthRoute.jsx","components/Routes/PrivateRoute.jsx","components/Lists/ListItem.jsx","components/Lists/NewListButton.jsx","components/Lists/Lists.jsx","components/NoLists/NoLists.jsx","components/ListModal/ListModal.jsx","components/Profile/Profile.jsx","components/CreateTask/CreateTask.jsx","components/Task/Task.jsx","components/Task/TaskList.jsx","components/DeleteTask/DeleteTask.jsx","components/ToDo/ToDo.jsx","components/Errors/ErrorPopup.jsx","components/Errors/Errors.jsx","index.jsx"],"names":["UserContext","createContext","Home","user","useContext","className","style","fontSize","to","id","type","NavbarButtonUser","props","setUser","username","onClick","localStorage","removeItem","NavbarButton","NaviBar","ErrorContext","SignUp","setErrors","onSubmit","e","preventDefault","targets","currentTarget","children","map","child","value","data","email","password","password_confirmation","fetch","method","headers","Headers","Accept","body","JSON","stringify","then","res","json","userData","errors","error","old","setItem","placeholder","Login","required","ProtectedRoute","element","AuthRoute","PrivateRoute","params","useParams","parseInt","ListItem","item","setUserLists","useState","editing","setEditing","name","editData","setEditData","display","onChange","target","cursor","length","to_do","filter","listItem","NewListButton","bottom","right","Lists","lists","handleOpen","NoLists","ListModal","show","setShow","handleClose","Modal","onHide","centered","Header","closeButton","Title","Body","user_id","listData","forEach","Footer","Button","variant","form","Profile","isLoading","setLoading","userLists","useEffect","height","width","CreateTask","input","setInput","task","description","to_do_id","postId","setTaskData","oldArr","backgroundColor","border","Task","idx","status","done","setDone","handleComplete","draggableId","index","provided","dragHandleProps","draggableProps","ref","innerRef","TaskList","taskData","droppableId","listId","droppableProps","taskItem","DeleteTask","ToDo","setListData","setIsLoading","unmountData","useRef","list_id","list","tasks","current","useLayoutEffect","handleLeave","window","onbeforeunload","orderData","ele","indexOf","onDragEnd","result","destination","source","newTasks","splice","find","ErrorPopup","Alert","onClose","dismissible","Errors","App","parse","getItem","Provider","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.941d8bd4.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nconst UserContext = createContext(null);\nexport default UserContext;","import UserContext from '../Contexts/UserContext';\nimport { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { BsJournals } from 'react-icons/bs';\n\nfunction Home() {\n  const { user } = useContext(UserContext);\n\n  return (\n    <div className=\"container text-center mt-5\">\n      <h1 className=\"mt-4\" style={{fontSize: 55}}>Welcome to Task.io! </h1>\n      <div>\n        <p className=\"display-5 mt-5\">Gain control today.</p>\n        <Link to={`/user/${user.id}`}>\n          <button type=\"button\" className=\"btn btn-primary btn-lg w-50 mt-3 text-white p-2\" >\n            View your schedule <BsJournals className=\"mb-1 ms-1\" />\n          </button>\n        </Link>\n      </div>\n    </div>\n  );\n}\n\nexport default Home;\n","import { RiLeafLine } from \"react-icons/ri\";\nimport { Link } from \"react-router-dom\";\n\nconst NavbarButtonUser = (props) => {\n  const { user, setUser } = props;\n\n  const handleSignOut = () => {\n    setUser(null);\n    localStorage.removeItem(\"taskio-user\");\n  };\n\n  return (\n    <div className=\"w-100 d-flex justify-content-between align-items-center\">\n      <div>\n        <Link to=\"/\">\n          <div className=\"d-flex align-items-center\">\n            <h2 className=\"navbar-brand m-1 ms-3\" style={{ fontSize: 30 }}>\n              Task.io\n            </h2>\n            <RiLeafLine className=\"text-white ms-1\" style={{ fontSize: 30 }} />\n          </div>\n        </Link>\n      </div>\n      <div className=\"d-flex algin-items-center\">\n        <Link to={`/user/${user.id}`}>\n          <h3 className=\"text-white m-1 ms-3\">{user.username}</h3>\n        </Link>\n        <Link to=\"/login\" onClick={handleSignOut}>\n          <h3 className=\"text-white m-1 ms-5 me-4\">Log Out</h3>\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default NavbarButtonUser;\n","import { RiLeafLine } from 'react-icons/ri';\nimport { Link } from 'react-router-dom';\n\nconst NavbarButton = () => {\n\n  return(\n    <div className=\"w-100 d-flex justify-content-between align-items-center\">\n    <div>\n      <Link to=\"/\">\n        <div className=\"d-flex align-items-center\">\n          <h2 className=\"navbar-brand m-1 ms-3\" style={{fontSize: 30}}>Task.io</h2>\n          <RiLeafLine className=\"text-white ms-1\" style={{fontSize: 30}} />\n        </div>\n      </Link>\n    </div>\n    <div className=\"d-flex algin-items-center\">\n      <Link to=\"/login\">\n        <h3 className=\"text-white m-1 ms-3\">Login</h3>\n      </Link>\n      <Link to=\"/signUp\">\n        <h3 className=\"text-white m-1 ms-5 me-4\">Sign Up</h3>\n      </Link>\n    </div>\n  </div>\n  )\n};\n\nexport default NavbarButton;\n","import UserContext from '../Contexts/UserContext';\nimport { useContext } from 'react';\nimport NavbarButtonUser from './NavbarButtonUser';\nimport NavbarButton from './NavbarButton';\n\n\nconst NaviBar = (props) => {\n  const { user, setUser } = useContext(UserContext);\n\n  return(\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-primary\">  \n    {user ? \n      <NavbarButtonUser user={user} setUser={setUser} />\n    :\n      <NavbarButton />\n    }\n      </nav>\n  )\n};\n\nexport default NaviBar;","import { createContext } from \"react\";\n\nconst ErrorContext = createContext(null);\nexport default ErrorContext;","import { useContext } from \"react\";\nimport UserContext from \"../Contexts/UserContext\";\nimport ErrorContext from \"../Contexts/ErrorContext\";\n\nconst SignUp = (props) => {\n  const { setUser } = useContext(UserContext);\n  const { setErrors } = useContext(ErrorContext);\n\n  const handleSignUp = (e) => {\n    e.preventDefault();\n\n    const targets = [...e.currentTarget.children].map((child) => child.value);\n    const data = {\n      user: {\n        username: targets[0],\n        email: targets[1],\n        password: targets[2],\n        password_confirmation: targets[3],\n      },\n    };\n\n    fetch(\"https://taskio-backend.herokuapp.com/users\", {\n      method: \"POST\",\n      headers: new Headers({\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      }),\n      body: JSON.stringify(data),\n    })\n      .then((res) => res.json())\n      .then((userData) => {\n        if (userData.errors) {\n          // Check if server returned an error\n          for (let error in userData.errors) {\n            setErrors((old) => [...old, `${error} ${userData.errors[error]}`]);\n          }\n        } else {\n          localStorage.setItem(\"taskio-user\", JSON.stringify(userData));\n          setUser(userData);\n        }\n      });\n  };\n\n  return (\n    <div className=\"card w-50 text-center mx-auto mt-5\">\n      <h3 className=\"p-3\">Join Task.io today!</h3>\n      <form className=\"p-3 pt-1\" onSubmit={handleSignUp}>\n        <input\n          type=\"text\"\n          className=\"form-control form-control-lg\"\n          placeholder=\"Username...\"\n        />\n        <input\n          type=\"text\"\n          className=\"form-control form-control-lg mt-3\"\n          placeholder=\"E-Mail...\"\n        />\n        <input\n          type=\"password\"\n          className=\"form-control form-control-lg mt-3\"\n          placeholder=\"Password...\"\n        />\n        <input\n          type=\"password\"\n          className=\"form-control form-control-lg mt-3\"\n          placeholder=\"Password Confirmation...\"\n        />\n        <button\n          type=\"submit\"\n          className=\"btn btn-primary btn-lg text-white mt-3 w-50\"\n        >\n          Sign Up\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default SignUp;\n","import { useContext } from \"react\";\nimport UserContext from \"../Contexts/UserContext\";\nimport ErrorContext from \"../Contexts/ErrorContext\";\n\nconst Login = (props) => {\n  const { setUser } = useContext(UserContext);\n  const { setErrors } = useContext(ErrorContext);\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n\n    const targets = [...e.currentTarget.children].map((child) => child.value);\n    const data = {\n      user: {\n        email: targets[0],\n        password: targets[1],\n      },\n    };\n\n    fetch(\"https://taskio-backend.herokuapp.com/users/sign_in\", {\n      method: \"POST\",\n      headers: new Headers({\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      }),\n      body: JSON.stringify(data),\n    })\n      .then((res) => res.json())\n      .then((userData) => {\n        if (userData.error) {\n          // Check if server returned a user object or an error object (error objects don't have an ID)\n          setErrors((old) => [...old, userData.error]);\n        } else {\n          localStorage.setItem(\"taskio-user\", JSON.stringify(userData));\n          setUser(userData);\n        }\n      });\n  };\n\n  return (\n    <div>\n      <div className=\"card w-50 text-center mx-auto mt-5\">\n        <h3 className=\"p-3\">Log in to an existing account</h3>\n        <form className=\"p-3 pt-1\" onSubmit={handleLogin}>\n          <input\n            type=\"text\"\n            className=\"form-control form-control-lg mt-3\"\n            placeholder=\"E-Mail...\"\n            required\n          />\n          <input\n            type=\"password\"\n            className=\"form-control form-control-lg mt-3\"\n            placeholder=\"Password...\"\n          />\n          <button\n            type=\"submit\"\n            className=\"btn btn-primary btn-lg text-white mt-3 w-50\"\n          >\n            Log In\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import UserContext from '../Contexts/UserContext';\nimport { useContext } from 'react';\nimport { Navigate } from \"react-router\";\n\nconst ProtectedRoute = (props) => {\n  const { user } = useContext(UserContext);\n\n  return(\n    user ? props.element : <Navigate to=\"/login \"/>\n  )\n};\n\nexport default ProtectedRoute;","import UserContext from '../Contexts/UserContext';\nimport { useContext } from 'react';\nimport { Navigate } from \"react-router\";\n\nconst AuthRoute = (props) => {\n  const { user } = useContext(UserContext);\n\n  return(\n    user ? <Navigate to=\"/\" /> : props.element\n  )\n};\n\nexport default AuthRoute;","import { Navigate, useParams } from \"react-router\";\nimport UserContext from '../Contexts/UserContext';\nimport { useContext } from 'react';\n\nconst PrivateRoute = (props) => {\n  const { user } = useContext(UserContext);\n  const params = useParams();\n\n  return(\n    user ? user.id === parseInt(params.id) ? props.element : <Navigate to=\"/\" /> : <Navigate to=\"/login\" />\n  )\n};\n\nexport default PrivateRoute;","import { useState } from 'react';\nimport { BsPencilSquare } from 'react-icons/bs';\nimport { CgTrashEmpty } from 'react-icons/cg';\nimport { AiOutlineCheck } from 'react-icons/ai';\nimport { Link } from 'react-router-dom';\nimport { BsJournal } from 'react-icons/bs';\n\nconst ListItem = (props) => {\n  const { item, setUserLists } = props;\n  const [editing, setEditing] = useState(false);\n  const [editData, setEditData] = useState(item.name);\n\n  const handleDelete = () => {\n    fetch(`https://taskio-backend.herokuapp.com/to_do/${item.id}`, {\n      method: 'DELETE'\n    })\n      .then(setUserLists(old => old.filter(listItem => listItem.id !== item.id )))\n  };\n\n  const handleEdit = () => {\n    if(editData === item.name || !editData.length) {\n      setEditing(false);\n      return\n    }\n\n    const data = {\n      to_do: {\n        name: editData\n      }\n    }\n\n    fetch(`https://taskio-backend.herokuapp.com/to_do/${item.id}`, {\n      method: 'PATCH',     \n      headers: new Headers({\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }),\n      body: JSON.stringify(data)\n    })\n      .then(res => res.json())\n      .then(data => {\n        if(data.id) {\n          item.name = data.name;\n          setEditing(false);\n        } else {\n          // handle errors\n        }\n      });\n  };\n\n  const handleToggle = () => setEditing(old => !old);\n\n  return(\n    <div className=\"mt-3\">\n      <div className=\"card w-50 mx-auto\">\n        <div className=\"d-flex justify-content-between align-items-center\">\n          <div className=\"ms-3 mt-2 d-flex align-items-center\">\n            <Link to={`list/${item.id}`} className=\"d-flex align-items-center\">\n              <BsJournal style={{fontSize: 25}} className=\"me-2 mb-1\" />\n              <h3 style={{display: editing ? \"none\" : \"block\"}}>{item.name}</h3>\n            </Link>\n            <input type=\"text\" className=\"form-control form-control-lg mb-2\" value={editData} placeholder=\"Name...\" \n              style={{display: editing ? \"block\" : \"none\"}} onChange={(e) => setEditData(e.target.value)} />\n            <AiOutlineCheck className=\"text-primary ms-3 mb-2\" \n              style={{fontSize: 40, cursor:\"pointer\", display: editing ? \"block\" : \"none\"}} onClick={handleEdit} />  \n          </div>\n          <div>\n            <BsPencilSquare className=\"text-primary me-3\" style={{fontSize: 30, cursor:\"pointer\"}} onClick={handleToggle} />\n            <CgTrashEmpty className=\"text-primary me-2\" style={{fontSize: 35, cursor:\"pointer\"}} onClick={handleDelete} />\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n};\n\nexport default ListItem;","\nconst NewListButton = (props) => {\n\n  return(\n    <div>\n      <input type=\"button\" className=\"btn btn-primary btn-lg text-white position-absolute\" style={{bottom:30, right:50}} \n        value=\"New list\" onClick={props.onClick} />\n    </div>\n  )\n};\n\nexport default NewListButton;","import ListItem from './ListItem';\nimport NewListButton from './NewListButton';\n\nconst Lists = (props) => {\n  const { lists } = props;\n\n\n  return(\n    <div className=\"mt-4\">\n      <h1 className=''>View your lists:</h1>\n      <div>\n        {lists.map(item => <ListItem key={item.id} item={item} setUserLists={props.setUserLists} />)}\n      </div>\n      <NewListButton onClick={props.handleOpen} />\n    </div>\n  )\n};\n\nexport default Lists;","\nconst NoLists = (props) => {\n\n\n  \n  return(\n    <div className=\"mt-3\">\n      <div>\n        <h3>No To-Do's found!</h3>\n        <input type=\"button\" className=\"btn btn-primary w-25 p-2 text-white\" value=\"Create a list now\" \n          onClick={props.handleOpen} />\n      </div>\n    </div>\n  );\n};\n\nexport default NoLists;","import { Modal, Button } from \"react-bootstrap\";\nimport UserContext from '../Contexts/UserContext';\nimport ErrorContext from \"../Contexts/ErrorContext\";\nimport { useContext } from 'react';\n\nconst ListModal = (props) => {\n  const { show, setShow, setUserLists } = props;\n  const { user } = useContext(UserContext);\n  const { setErrors } = useContext(ErrorContext);\n\n  const handleClose = () => setShow(false);\n  \n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    let listName = e.target.children[0].value;\n    const data = {\n      to_do: {\n        name: listName,\n        user_id: user.id\n      }\n    }\n\n    fetch('https://taskio-backend.herokuapp.com/to_do', {\n      method: 'POST',      \n      headers: new Headers({\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }),\n      body: JSON.stringify(data)\n    })\n      .then(res => res.json())\n      .then(listData => {\n        if(listData.id) { // Has different error handling, check for id here instead\n          e.target.children[0].value = null;\n          setUserLists(old => [...old, listData])\n          handleClose();\n        } else {\n          handleClose();\n          listData.forEach(error => setErrors(old => [...old, error]));\n        }\n      });\n  };\n\n  return(\n    <Modal show={show} onHide={handleClose} className=\"\" centered>\n      <Modal.Header closeButton>\n        <Modal.Title>Create a new To-Do</Modal.Title>\n      </Modal.Header>\n\n      <Modal.Body>\n        <p className=\"mb-2\">Pick a name for your list:</p>\n        <form id=\"listForm\" onSubmit={handleSubmit}>\n          <input type=\"text\" className=\"form-control\" placeholder=\"Name...\" />\n        </form>\n      </Modal.Body>\n\n      <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n\n          <Button type=\"submit\" className=\"text-white\" variant=\"primary\" form=\"listForm\">\n            Submit\n          </Button>\n      </Modal.Footer>\n    </Modal>\n  )\n};\n\nexport default ListModal;","import UserContext from '../Contexts/UserContext';\nimport { useContext } from 'react';\nimport { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport Lists from '../Lists/Lists';\nimport NoLists from '../NoLists/NoLists.jsx';\nimport ListModal from '../ListModal/ListModal.jsx';\n\n\nconst Profile = () => {\n  const params = useParams();\n  const [isLoading, setLoading] = useState(true);\n  const [userLists, setUserLists] = useState([]);\n  const [show, setShow] = useState(false);\n  const { user } = useContext(UserContext);\n  const handleOpen = () => setShow(true);\n\n  useEffect(() => {\n    fetch(`https://taskio-backend.herokuapp.com/api/user_lists/${params.id}`)\n      .then(res => res.json())\n      .then(userData => {\n        setUserLists(userData);\n        setLoading(false);\n      })\n  }, [params]);\n\n  return(\n    isLoading ? \n      <div className=\"spinner-border text-primary d-block mx-auto mt-4\" style={{height: 150, width: 150}}></div>\n    :\n      <div className=\"container text-center\">\n        <h1 className=\"display-3 mt-2\">Welcome, {user.username}!</h1>\n        <div>\n          { userLists.length ? \n            <Lists lists={userLists} handleOpen={handleOpen} setUserLists={setUserLists} />\n          :\n            <NoLists handleOpen={handleOpen} />\n          }\n        </div>\n        <ListModal show={show} setShow={setShow} handleOpen={handleOpen} setUserLists={setUserLists} />\n      </div>\n  )\n};\n\nexport default Profile;","import { useState } from 'react';\nimport { BsJournalPlus } from 'react-icons/bs';\n\nconst CreateTask = (props) => {\n  const [input, setInput] = useState(\"\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const data = {\n      task: {\n        description: input,\n        to_do_id: props.postId\n      }\n    }\n\n    fetch('https://taskio-backend.herokuapp.com/task', {\n      method: 'POST',      \n      headers: new Headers({\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }),\n      body: JSON.stringify(data)\n    })\n      .then(res => res.json())\n      .then(data => {\n        props.setTaskData(oldArr => [...oldArr, data]);\n        setInput(\"\");\n      });\n  };\n\n  return(\n    <div className=\"mx-auto w-75 mb-4\">\n        <div >\n          <form className=\"d-flex align-items-center justify-content-center\" onSubmit={handleSubmit}>\n            <input type=\"text\" className=\"form-control form-control-lg w-75 me-3\" placeholder=\"Add a new task...\" required \n              onChange={e => setInput(e.target.value)} value={input} />\n            <button type=\"submit\" style={{backgroundColor: \"transparent\", border: \"none\"}}>\n              <BsJournalPlus style={{fontSize: 37, cursor: \"pointer\"}} className=\"text-primary\" />\n            </button>\n          </form>\n        </div>\n    </div>\n  )\n};\n\nexport default CreateTask;","import { useState } from \"react\";\nimport { Draggable } from 'react-beautiful-dnd';\n\n\nconst Task = (props) => {\n  const { task, idx } = props;\n  const [done, setDone] = useState(task.status);\n\n  const handleComplete = () => {\n    setDone(old => !old);\n    fetch(`https://taskio-backend.herokuapp.com/api/toggle_status/${task.id}`);\n  };\n\n  return(\n    <Draggable key={task.id} draggableId={`${task.id}`} index={idx}>\n      {provided => (\n        <div {...provided.dragHandleProps} {...provided.draggableProps} ref={provided.innerRef}>\n          <li className=\"list-group-item list-group-item-primary m-1\" onClick={handleComplete}>\n            { done ? \n              <h4 className=\"m-1\"><del>{task.description}</del></h4>\n            :\n              <h4 className=\"m-1\">{task.description}</h4>\n            }\n          </li>\n        </div>\n      )}\n    </Draggable>\n  )\n};\n\nexport default Task;","import Task from '../Task/Task';\nimport { Droppable } from 'react-beautiful-dnd';\n\nconst TaskList = (props) => {\n  const { taskData } = props;\n\n  return(\n    <Droppable droppableId={props.listId}>\n      {provided => (\n        <div {...provided.droppableProps} ref={provided.innerRef}>\n          <ul className=\"list-group list-group-flush text-start w-50 mx-auto\">\n            { taskData.map((taskItem, idx) => (\n              <Task key={taskItem.id} task={taskItem} idx={idx} /> \n            ))}\n          </ul>\n          {provided.placeholder}\n        </div>\n      )}\n    </Droppable>\n  )\n};\n\nexport default TaskList;","import { BsTrash } from 'react-icons/bs';\nimport { Droppable } from 'react-beautiful-dnd';\n\nconst DeleteTask = () => {\n\n  return(\n    <Droppable droppableId=\"drop-delete\">\n      {provided => (\n        <div className=\"position-fixed bg-danger rounded pt-1\" style={{right:40, bottom:40, height: 100, width: 100}} \n            {...provided.droppableProps} ref={provided.innerRef}>\n          <BsTrash className=\"text-white mt-4\" style={{fontSize:45}} />\n          {provided.placeholder}\n        </div>\n      )}\n    </Droppable>\n  )\n};\n\nexport default DeleteTask;","import { useLayoutEffect, useState } from 'react';\nimport { useEffect } from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport { useParams } from 'react-router';\nimport CreateTask from '../CreateTask/CreateTask';\nimport TaskList from '../Task/TaskList';\nimport { DragDropContext } from 'react-beautiful-dnd';\nimport DeleteTask from '../DeleteTask/DeleteTask';\nimport { useRef } from 'react';\n\nconst ToDo = () => {\n  const params = useParams();\n  const [listData, setListData] = useState({});\n  const [taskData, setTaskData] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const unmountData = useRef();\n\n  useEffect(() => {\n    fetch(`https://taskio-backend.herokuapp.com/api/todo/${params.list_id}`)\n      .then(res => res.json())\n      .then(data => {\n        setListData(data.list);\n        setTaskData(data.tasks);\n        setIsLoading(false);\n      });\n  }, [params]);\n\n  useEffect(() => {\n    unmountData.current = taskData;\n  }, [taskData]);\n\n  useLayoutEffect(() => {\n\n    return () => {\n      handleLeave();\n    }; \n  }, []);\n\n  window.onbeforeunload = () => { // Add handling for refresh, as useEffect doesn't cover it. (React only resets the state on refresh)\n    handleLeave();\n  }\n\n  const handleLeave = () => {\n    const orderData = {};\n\n    unmountData.current.forEach(ele => orderData[ele.id] = {index: unmountData.current.indexOf(ele)});\n    fetch('https://taskio-backend.herokuapp.com/api/reorder_list', {\n      method: 'POST',\n      headers: new Headers({\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }),\n      body: JSON.stringify({to_do: {orderData}})\n    })\n  }\n\n  const handleDrag = (result) => {\n    const { destination, source, draggableId } = result;\n    const newTasks = [...taskData];\n    \n    if(!destination || (destination.index === source.index && destination.droppableId !== \"drop-delete\")) {\n      return;\n    }\n\n    if(destination.droppableId === \"drop-delete\") {\n      setTaskData(old => old.filter(ele => ele.id !== parseInt(draggableId)));\n      fetch(`https://taskio-backend.herokuapp.com/task/${draggableId}`, {\n        method: 'DELETE'\n      });\n      return;\n    } \n\n\n    newTasks.splice(source.index, 1);\n    newTasks.splice(destination.index, 0, taskData.find(task => task.id === parseInt(draggableId)));\n    setTaskData(newTasks);\n  };\n\n  return(\n    <div>\n      { isLoading ? \n        <div className=\"spinner-border text-primary d-block mx-auto mt-4\" style={{height: 150, width: 150}}></div>\n      :\n        <div className=\"container text-center mt-3\">\n          <div>\n            <h1><ReactMarkdown children={`*${listData.name}*`}></ReactMarkdown></h1>\n            <ReactMarkdown className=\"text-primary\">---</ReactMarkdown>\n          </div>\n          <CreateTask postId={params.list_id} setTaskData={setTaskData} />\n          { \n          taskData.length ?\n            <div>\n              <DragDropContext onDragEnd={handleDrag}>\n                <TaskList taskData={taskData} listId={params.list_id} />\n                <DeleteTask />\n              </DragDropContext>\n            </div>\n          :\n            <h1 className=\"mt-3\"><em>No tasks found!</em></h1>  \n          }\n        </div>\n      }\n    </div>\n  )\n};\n\nexport default ToDo;","import { useState } from \"react\";\nimport { Alert } from \"react-bootstrap\";\n\nconst ErrorPopup = (props) => {\n  const [show, setShow] = useState(true);\n\n  return(\n    <Alert variant=\"danger\" show={show} style={{width: 300}} onClose={() => setShow(false)} dismissible>\n      {props.error}\n    </Alert>\n  )\n};\n\nexport default ErrorPopup;","import { useContext } from 'react';\nimport ErrorContext from '../Contexts/ErrorContext';\nimport ErrorPopup from './ErrorPopup';\n\nconst Errors = () => {\n  const { errors } = useContext(ErrorContext);\n\n  return(\n    <div className=\"position-absolute bottom-0 ms-3\">\n      {errors.map((error, idx) => <ErrorPopup error={error} key={idx} />)}\n    </div>\n  )\n};\n\nexport default Errors;","import ReactDOM from \"react-dom\";\nimport { HashRouter as Router, Routes, Route } from \"react-router-dom\";\nimport \"./stylesheets/custom.scss\";\nimport Home from \"./components/Home/Home.jsx\";\nimport NaviBar from \"./components/Navbar/Navibar.jsx\";\nimport SignUp from \"./components/SignUp/SignUp\";\nimport Login from \"./components/Login/Login\";\nimport UserContext from \"./components/Contexts/UserContext\";\nimport ErrorContext from \"./components/Contexts/ErrorContext\";\nimport ProtectedRoute from \"./components/Routes/ProtectedRoute\";\nimport AuthRoute from \"./components/Routes/AuthRoute\";\nimport PrivateRoute from \"./components/Routes/PrivateRoute\";\nimport { useState } from \"react\";\nimport Profile from \"./components/Profile/Profile\";\nimport ToDo from \"./components/ToDo/ToDo\";\nimport Errors from \"./components/Errors/Errors\";\n\nconst App = () => {\n  const [user, setUser] = useState(\n    JSON.parse(localStorage.getItem(\"taskio-user\"))\n  );\n  const [errors, setErrors] = useState([]); // Errors will be an array of strings\n\n  return (\n    <div>\n      <Router>\n        <UserContext.Provider value={{ user, setUser }}>\n          <ErrorContext.Provider value={{ errors, setErrors }}>\n            <NaviBar />\n            <Errors />\n            <Routes>\n              <Route\n                exact\n                path=\"/\"\n                element={<ProtectedRoute element={<Home />} />}\n              />\n              <Route\n                exact\n                path=\"/login\"\n                element={<AuthRoute element={<Login />} />}\n              />\n              <Route\n                exact\n                path=\"/signUp\"\n                element={<AuthRoute element={<SignUp />} />}\n              />\n              <Route\n                exact\n                path=\"/user/:id\"\n                element={<PrivateRoute element={<Profile />} />}\n              />\n              <Route\n                exact\n                path=\"/user/:id/list/:list_id\"\n                element={<PrivateRoute element={<ToDo />} />}\n              />\n            </Routes>\n          </ErrorContext.Provider>\n        </UserContext.Provider>\n      </Router>\n    </div>\n  );\n};\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}